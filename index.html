<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedstadon</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="app-container">
        <!-- Top Navigation -->
        <nav class="top-nav" style="display: none;">
            <button id="home-btn" class="nav-btn">Home</button>
            <button id="notifications-btn" class="nav-btn"></button>
            <button id="compose-btn" class="nav-btn"></button>
            <button id="logout-btn" class="nav-btn">Logout</button>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Login View -->
            <div id="login-view" class="app-view">
                <div class="login-container">
                    <div class="login-box mastodon-login">
                        <div id="mastodon-login-logo"></div>
                        <h3>Login to Mastodon</h3>
                        <form id="login-form-mastodon">
                            <input type="text" id="instance_url" placeholder="Instance URL (e.g., mastodon.social)" required>
                            <input type="password" id="access_token" placeholder="Access Token" required>
                            <button type="submit">Login</button>
                        </form>
                    </div>
                    <div class="login-box lemmy-login">
                        <div id="lemmy-login-logo"></div>
                        <h3>Login to Lemmy</h3>
                        <form id="login-form-lemmy">
                            <input type="text" id="lemmy_instance_url" placeholder="Lemmy Instance URL" disabled>
                            <input type="text" id="lemmy_username" placeholder="Username" disabled>
                            <input type="password" id="lemmy_password" placeholder="Password" disabled>
                            <button type="submit" disabled>Login (Soon)</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Home Timeline View -->
            <div id="home-view" class="app-view" style="display: none;">
                 <div class="timeline-sub-nav">
                    <button class="timeline-sub-nav-btn" data-timeline="home">Home</button>
                    <button class="timeline-sub-nav-btn" data-timeline="local">Local</button>
                    <button class="timeline-sub-nav-btn" data-timeline="federated">Federated</button>
                    <button class="timeline-sub-nav-btn" data-timeline="lemmy">Lemmy</button>
                    <select id="lemmy-sort-select">
                        <option value="Hot">Hot</option>
                        <option value="New">New</option>
                        <option value="TopDay">Top Day</option>
                    </select>
                </div>
                <div id="timeline" class="timeline-container"></div>
            </div>

            <!-- Notifications View -->
            <div id="notifications-view" class="app-view" style="display: none;">
                <h2>Notifications</h2>
                <div id="notifications-container"></div>
            </div>

            <!-- Profile View -->
            <div id="profile-view" class="app-view" style="display: none;">
                <div id="profile-page-view"></div>
            </div>
        </main>

        <!-- Compose Modal -->
        <div id="compose-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Compose New Post</h2>
                <form id="compose-form">
                    <textarea id="compose-textarea" placeholder="What's on your mind?" maxlength="500"></textarea>
                    <div class="compose-footer">
                        <span id="char-count">0 / 500</span>
                        <button type="submit">Post</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div id="toast-container"></div>
    </div>

    <script src="app.js" type="module"></script>
</body>
</html>
